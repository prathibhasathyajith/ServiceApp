<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>

    
    <package name="login" extends="pglobal" namespace="/">
        <action name="*UserLogin" method="{1}" class="com.serviceapp.action.login.LoginAction">
            <result name="message">/login.jsp</result>
            <result name="success">/WEB-INF/pages/home.jsp</result>
            <result name="firstlogin" type="redirectAction">
                <param name="actionName">Viewpaschanged</param>               
            </result>
        </action>
    </package>
    
    <package name="usermanagement" extends="pglobal" namespace="/">
        <action name="*Systemuser" method="{1}" class="com.serviceapp.action.usermanagement.SystemuserAction" >
            <result name="message">/WEB-INF/pages/msgSpe.jsp</result>
            <result name="view">/WEB-INF/pages/usermanagement/systemuser/systemuser.jsp</result> 
            <result name="viewpopup">/WEB-INF/pages/usermanagement/systemuser/systemuserinsert.jsp</result>
            <result name="detail">/WEB-INF/pages/usermanagement/systemuser/systemuseredit.jsp</result>
            <result name="success"></result>
            <result name="list" type="json"></result>
            <result name="find" type="json"></result>
            <result name="findDualAuthUsers" type="json"></result>
            <result name="delete" type="json"></result>
            <!--<result name="changepassword" type="json"></result>-->
            <result name="changepassword" >/WEB-INF/pages/usermanagement/systemuser/systemuserpwdchange.jsp</result> 
            <!--<result name="changepassword" >/WEB-INF/pages/controlpanel/usermanagement/systemuseredit.jsp</result>--> 
            <result name="activate" type="json"></result>
        </action>
        <action name="*paschanged" method="{1}" class="com.serviceapp.action.usermanagement.PasswordResetAction">
            <result name="message">/WEB-INF/pages/msgFrag.jsp</result>
            <result name="resetpassword">/defaultaccesscontroler.jsp</result>
            <result name="logoutuser" type="json"></result>
            <result name="view">/WEB-INF/pages/usermanagement/paschanged.jsp</result>
            <result name="success"></result>
        </action>
        <action name="*ChangePassword" method="{1}" class="com.serviceapp.action.usermanagement.PasswordResetAction">
            <result name="message">/WEB-INF/pages/msgFrag.jsp</result>
            <result name="resetpassword">/defaultaccesscontroler.jsp</result>
            <result name="logoutuser" type="json"></result>
            <result name="view">/WEB-INF/pages/usermanagement/passwordreset.jsp</result>
            <result name="success"></result>
        </action>
        
        
        
    </package>
    <package name="systemconfig" extends="pglobal" namespace="/">
        <action name="*PasswordPolicy" method="{1}" class="com.serviceapp.action.systemconfig.PasswordPolicyAction" >
            <result name="message">/WEB-INF/pages/msgFrag.jsp</result>
            <result name="success"></result>
            <result name="list" type="json"></result>
            <result name="find" type="json"></result>
            <result name="reset" type="json"></result>
            <result name="view">/WEB-INF/pages/systemconfig/passwordpolicy.jsp</result>
        </action>
    </package>
    
    <package name="systemaudit" extends="pglobal" namespace="/"> 
        <action name="*SystemAudit" method="{1}"
                class="com.serviceapp.action.systemaudit.SystemAuditAction">
            <result name="message">/WEB-INF/pages/systemaudit/systemaudit.jsp</result>
            <result name="view">/WEB-INF/pages/systemaudit/systemaudit.jsp</result>
            <result name="viewdetail">/WEB-INF/pages/systemaudit/viewaudit.jsp</result>
            <result name="success"></result>            
            <result name="list" type="json"></result>
            <result name="find" type="json"></result>
            <result name="delete" type="json"></result>
            <result name="logoutuser" type="json"></result>  
                      
            <result name="download" type="stream">
                <param name="contentType">application/pdf</param>
                <param name="inputName">fileInputStream</param>
                <param name="contentDisposition">attachment;filename=audit_report.pdf</param>
                <!--<param name="bufferSize">1024</param>-->
            </result>  
            
            <result name="report" type="jasper">
                <param name="location">/WEB-INF/pages/systemaudit/report/view_audit_report.jasper</param>
                <param name="dataSource">audata</param>               
                <param name="format">PDF</param>     
                <param name="contentDisposition">attachment;filename=view_audit_report.pdf</param>
                <param name="reportParameters">parameterMap</param>
            </result>
            
            <result name="excelreport" type="stream">
                <param name="contentType">"application/vnd.ms-excel"</param>
                <param name="inputName">excelStream</param>
                <param name="contentDisposition">attachment;filename="audit_report.xlsx"</param>
                <param name="bufferSize">61440</param>
            </result>
            
            <result name="zip" type="stream">
                <param name="contentDisposition">attachment;filename="audit_report.zip"</param>
                <param name="contentType">application/octet-stream</param>
                <param name="inputName">zipStream</param>
                <param name="bufferSize">61440</param>
            </result> 
            
        </action>
    </package>
</struts>

